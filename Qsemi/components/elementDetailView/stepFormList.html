<div data-role="view" data-title="Details" data-model="app.elementDetailView.elementDetailViewModel" data-bind="events: { show: stepFormsListShow }" id="elementDetailStepFormsScreen" class="screen screen--detail">
    <header data-role="header">
        <div data-role="navbar" class="header-text" style="box-shadow: 0px 5px 5px rgba(0, 0, 0, 0.3);">
             <table style="width:100%;">
                <tr>
                    <td style="width:10%;">
                        <a data-icon="home" data-role="button" onclick="goHome()" data-align="left" style="font-family: Tahoma, Geneva, sans-serif;background-color:transparent; border:none;"></a>
                        <a data-icon="backIcon" data-role="backbutton" data-align="left" style="background-color:transparent; border:none;"></a>
                    </td>
                    <td style="width:80%;">
                         <center><span id="element_step"></span></center>
                    </td>
                    <td style="width:10%;">
                        <a data-role="button" data-rel="popover" href="#popover-hbar3" data-align="right"  data-position="end" data-icon="hbar-button" style="background-color:#4fa81a;color:#4fa81a; border:none;"></a>
                    </td>
                </tr>
            </table>
            <!--<a data-icon="home" data-role="backbutton" data-align="left" style="font-family: Tahoma, Geneva, sans-serif;background-color:transparent; border:none;"></a> 
            <center><span id="element_step"></span></center>
            <a data-role="button" data-rel="popover" data-align="right" data-icon="hbar-button" data-position="end" style="font-family: Tahoma, Geneva, sans-serif;background-color:#4fa81a;color:#4fa81a; border:none;"></a>-->
        </div>
    </header>
    <br/>
    <br/>
    <div class="details-content screen__content screen__content--details" style="overflow-x:hidden; background-color: #e9eaeb; height: 100%;">
        <br/>
         <div id="surveyor" style="border-bottom: 1px solid #e9eaeb; background-color: white; width: 100%;font-family: Tahoma, Geneva, sans-serif;">
             <table border="0" style="width:100%">
                <tr style="width:100%">
                    <td style="width:80%">
                        <span data-bind="text: strings.stagesFormLocation.validLocation" style="margin-bottom: 300px; margin-left: 4%;"></span>
                        <!--<a style="margin-bottom: 300px; margin-left: 4%;">Valid Element Location</a>-->
                    </td>
                    <td style="width:20%">
                        <a id="ChooseLocationOnMap" data-icon="location" data-role="button" data-align="left" onclick="app.formDetailView.addItemViewModel.openMap()" style="color:black;background-color:transparent; border:none; margin-left: 41%; margin-top:4%;"></a>
                    </td>
                </tr>
            </table>
            <!--<br/>-->
            <!--<br/>-->
        </div>
          <div id="photo" style="background-color: white; width: 100%;font-family: Tahoma, Geneva, sans-serif;">
            <div style="border-bottom: 1px solid #e9eaeb;">
                <table border="0" style="width:100%">
                    <tr style="width:100%">
                        <td style="width:80%">
                            <span data-bind="text: strings.stagesFormImg.getElementPhoto" style="margin-bottom: 300px;margin-left: 4%;"></span>
                            <!--<a style="margin-bottom: 300px;margin-left: 4%;">Get Element Image</a>-->
                        </td>
                        <td style="width:20%">
                            <a id="addCapturePhotoS" class="capturePhotoButtonClass" data-icon="camera" data-role="button" data-align="left" style="color:black;background-color:transparent; border:none; margin-left: 41%; margin-top:4%;"></a>
                        </td>
                    </tr>
                </table>
                <!--<br/>-->
                <!--<br/>-->
            </div>
        </div>
        <br/>
        <div data-role="modalview" id="addCapturePhotoSPop" style="left:1px; width:95%; height:70%; background-color:#F4F4F4;font-family: Tahoma, Geneva, sans-serif; ">
                <div data-role="header" style="border-style:none; background-color:#F4F4F4; margin-top:3%;">
                    <div style="width:100%;">
                        <table style="width:100%;">
                            <tr>
                                <td style="width:10%;">
                                    <a data-role="button" onclick="app.elementDetailView.elementDetailViewModel.closeAddPopUpImg()" style="color:black;margin-bottom:0%;border-radius:0;border:none; background-color:transparent;">X</a>
                                </td>
                                <td style="width:90%;">
                                    <center>
                                        <span data-bind="text: strings.stagesFormImg.title" style="font-size:large;"></span>
                                    </center>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div data-role="content" style="background-color: transparent; margin-top: 2%;">
                    <img id="addCapturePhotoSImg" src="" style="width: 100%; height:100%;" />
                </div>
                <div data-role="footer" style="margin-bottom:3%; margin-top:3%; background-color:transparent">
                    <div style="width:100%; margin-bottom:2%;">
                        <center>
                            <a data-role="button" class="capturePhotoButtonClass" id="addCapturePhotoS_" style="color:white;margin-bottom:0%;border-radius:0;">
                                <span data-bind="text: strings.stagesFormImg.changePhoto"></span>
                            </a>
                            <a onclick="app.elementDetailView.elementDetailViewModel.saveAddPopUpImg()" data-role="button" style="color:white;margin-bottom:0%;border-radius:0;">
                                <span data-bind="text: strings.buttonsText.save"></span>
                            </a>
                        </center>
                    </div>
                        
                </div>
            </div>
        <div id="checkListTitle" dir="ltr" style="border-bottom-color:transparent;margin-left:0;margin-right:0;font-family: Tahoma, Geneva, sans-serif;">
            <div style="width:100%;height:36%; background-color:#e9eaeb;box-shadow:0 4px 2px -2px #c7c1c1;">
                <label style="box-shadow: 0px 2px 3px #A29E9E;background-color:#4fa81a;color:white; font-size: medium;text-align:center;padding-left: 10px;padding-right: 6px;padding-top: 2px;padding-bottom: 3px;float: left;">
                    <span data-bind="text: strings.stagesFormTitles.qualityControl" style="color:white;"></sapn>
                    <!--<span style="color:white;">&nbsp;</span>-->
                    <!--<span style="color:white;">Quality Control&nbsp;</span>-->
                </label>
            </div>
            <br/>
            <div style="background-color: white;height:1em;">
                <br />
            </div>
        </div>
        <!--<div id="checkListTitle" style="width: 100%;">
            <br/>
            <span style="font-size: large; padding-left:3%;color:white; background-color:#4fa81a;">Quality Control&nbsp;</span>
        </div>-->
        
        <ul id="stageForms" class="masterDetailView list noSeparators " data-role="listview" data-auto-bind="false" data-style="inset" 
            data-template="formStageTemplate" data-endless-scroll="false" 
            style="font-family: Tahoma, Geneva, sans-serif;padding: 0; margin: 0; width: 100%; height: 100%; margin-left: 0; background-color: #FFFFFF;"></ul>
        
        <br/>
          <div id="coreDataTitle" dir="ltr" style="border-bottom-color:transparent;margin-left:0;margin-right:0;font-family: Tahoma, Geneva, sans-serif;">
            <div style="width:100%;height:36%; background-color:#e9eaeb;box-shadow:0 4px 2px -2px #c7c1c1;">
                <label style="box-shadow: 0px 2px 3px #A29E9E;background-color:#4fa81a;color:white; font-size: medium;text-align:center;padding-left: 10px;padding-right: 6px;padding-top: 2px;padding-bottom: 3px;float: left;">
                    <span data-bind="text: strings.stagesFormTitles.coreData" style="color:white;"></sapn>
                    <!--<span style="color:white;">Core Data&nbsp;</span>-->
                </label>
            </div>
            <br/>
            <div style="background-color: white;height:1em;">
                <br />
            </div>
        </div>
        <!--<div id="coreDataTitle" style="width: 100%;">
            <br />
            <span style="font-size: large;color:white; padding-left:3%; background-color:#4fa81a;"">Core Data&nbsp;</span>
        </div>-->

        <div id="coreFormsFoundation" style="background-color: white; width: 100%; height: 100%;font-family: Tahoma, Geneva, sans-serif;">
            <ul data-role="listview" data-style="inset" style="padding: 0; margin: 0; width: 100%; height: 100%; margin-left: 0; background-color: #FFFFFF;"> 
                <li id="geotechnicalCheck" data-bind="events: { click: openGeotechnical }" style="padding:0; height: 100%; border-top:none;">
                        <table style="margin-left:0; width: 100%; height: 45px;">
                            <tr style="padding: 0; margin: 0;">
                                <td id="geotechnicalFormStaus" style="width: 3%; height: 100%; padding: 0; margin: 0;background-color:red;"></td>
                                <td style="width: 90%;">
                                    <span data-bind="text: strings.stage0CoreForms.geotechnical" style="font-size: 14px; margin-left: 5%;"></span>
                                    <!--<span style="font-size: 14px; margin-left: 5%;">GEOTECHNICAL</span>-->
                                </td>
                                <td style="width: 10%;">
                                </td>
                            </tr>
                        </table>
                </li>
                <li id="castCheck" data-bind="events: { click: openCast }" style="padding:0; height: 100%;font-family: Tahoma, Geneva, sans-serif;">
                        <table style="margin-left:0; width: 100%; height: 45px;">
                            <tr style="padding: 0; margin: 0;">
                                <td id="castingFormStatus" style="width: 3%; height: 100%; padding: 0; margin: 0;background-color:red;"></td>
                                <td style="width: 90%;">
                                    <span data-bind="text: strings.stage0CoreForms.casting" style="font-size: 14px; margin-left: 5%;"></span>
                                    <!--<span style="font-size: 14px; margin-left: 5%;">CASTING</span>-->
                                </td>
                                <td style="width: 10%;">
                                </td>
                            </tr>
                        </table>
                </li>
                <li id="laboratoryCheck" data-bind="events: { click: openLaboratory }" style="padding:0; height: 100%;font-family: Tahoma, Geneva, sans-serif;">
                        <table style="margin-left:0; width: 100%; height: 45px;">
                            <tr style="padding: 0; margin: 0;">
                                <td id="laboratoryFormStatus" style="width: 3%; height: 100%; padding: 0; margin: 0; background-color:red;"></td>
                                <td style="width: 90%;">
                                    <span data-bind="text: strings.stage0CoreForms.laboratory" style="font-size: 14px; margin-left: 5%;"></span>
                                    <!--<span style="font-size: 14px; margin-left: 5%;">LABORATORY TEST</span>-->
                                </td>
                                <td style="width: 10%;">
                                </td>
                            </tr>
                        </table>
                </li>
            </ul>
        </div>

        <ul id="stageCores" class="masterDetailView list noSeparators " data-role="listview" data-auto-bind="false" data-style="inset" 
            data-template="coreStageTemplate" data-endless-scroll="false" 
            style="font-family: Tahoma, Geneva, sans-serif;padding: 0; margin: 0; width: 100%; height: 100%; margin-left: 0; background-color: #FFFFFF;"></ul>

            <script type="text/x-kendo-template" id="formStageTemplate">
                <div class="formList" id=#:data['uid']# onclick="app.elementDetailView.elementDetailViewModel.openFormStage(this.id)">
                    <table style="width: 100%; height: 100%;">
                        <tr style="padding: 0; margin: 0;">
                            # if(PercentageComplete == "null" || (PercentageComplete >= 0 && PercentageComplete <= 40)) { #
                                    <td id="redS" ></td>
                                # } else if(PercentageComplete> 40 && PercentageComplete <= 70) { #
                                    <td id="orangeS"></td>
                                # } else if(PercentageComplete > 70 && PercentageComplete <= 100) { #
                                    <td id="greenS"></td>
                                # } #	
                            <td style="width: 90%;">
                                # if(data['name'].length > 43) { #
                                    <span style="font-size: 14px; margin-left: 5%;">#: data['name'].substring(0, 43) #</span><span>...</span>
                                # } else { #
                                    <span style="font-size: 14px; margin-left: 5%;">#: data['name'] #</span>
                                # } #
                            </td>
                            <td style="width: 10%;">
                                
                            </td>
                        </tr>
                    </table>
                </div>
            </script>

            <script type="text/x-kendo-template" id="coreStageTemplate">
                <div class="coreList" id=#:data['uid']# onclick="app.elementDetailView.elementDetailViewModel.openCoreStage(this.id)">
                    <table style="width: 100%; height: 100%;">
                        <tr style="padding: 0; margin: 0;">
                                # if(PercentageComplete == "null" || (PercentageComplete >= 0 && PercentageComplete <= 40)) { #
                                    <td id="redS" ></td>
                                # } else if(PercentageComplete> 40 && PercentageComplete <= 70) { #
                                    <td id="orangeS"></td>
                                # } else if(PercentageComplete > 70 && PercentageComplete <= 100) { #
                                    <td id="greenS"></td>
                                # } #	
                            <td style="width: 80%;">
                                <span style="font-size: 14px; margin-left: 5%;">#: data['name'] #</span>
                            </td>
                            <td style="width: 10%;">
                                
                            </td>
                        </tr>
                    </table>
                </div>
            </script>
    <!-- START_CUSTOM_CODE_elementDetailViewModel -->
    <!-- Add custom code here. For more information about custom code, see http://docs.telerik.com/platform/screenbuilder/troubleshooting/how-to-keep-custom-code-changes -->
    </div>
    <script>
        function goHome() {
            setTimeout(function () {
                app.mobileApp.navigate('#components/controlPanel/view.html');
            }, 300);
        }
    </script>
    <!-- END_CUSTOM_CODE_elementDetailViewModel -->
</div>